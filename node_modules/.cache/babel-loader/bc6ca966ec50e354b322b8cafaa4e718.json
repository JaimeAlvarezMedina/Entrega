{"ast":null,"code":"var _jsxFileName = \"/root/easterworld/pruebas2/src/Anadir_admin.js\";\nimport React from 'react';\nimport './Anadir_admin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Anadir_admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      usuario: \"\",\n      contra: \"\",\n      error: \"\",\n      aux: \"\"\n    };\n    this.contrasena = this.c.bind(this);\n    this.user = this.u.bind(this);\n    this.registra = this.registrar.bind(this);\n  }\n\n  registrar() {\n    //Añade un usuario en la base de datos\n    var datos = new FormData();\n    datos.append('usuario', this.state.usuario);\n    datos.append('contra', this.state.contra);\n    fetch(\"http://159.223.172.191/anadir_admin.php\", {\n      method: \"POST\",\n      body: datos\n    }).then(res => res.json()).then(result => {\n      if (result != \"Disponible\") {\n        this.setState({\n          error: \"El usuario no esta disponible\"\n        });\n      }\n\n      this.setState({\n        contra: \"\"\n      });\n\n      if (result == \"Disponible\") {\n        window.location.href = \"/foro\";\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  u(event) {\n    //Para modificar el usuario\n    this.setState({\n      usuario: event.target.value\n    });\n    console.log(this.state.usuario_inicio);\n  }\n\n  c(event) {\n    //Para modificar la contraseña contra\n    this.setState({\n      contra: event.target.value\n    });\n    console.log(this.state.contra_inicio);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"inicio_sesion\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: this.state.usuario,\n                onChange: this.user,\n                name: \"usuario\",\n                className: \"form-control\",\n                placeholder: \"Escriba su usuario\",\n                autoFocus: true,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: this.state.contra,\n                name: \"contra\",\n                onChange: this.contrasena,\n                className: \"form-control\",\n                placeholder: \"Escriba su contrase\\xF1a\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: this.state.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group \",\n              role: \"group\",\n              \"aria-label\": \"Basic outlined button group\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.registra,\n                type: \"button\",\n                className: \"btn btn-outline-success\",\n                children: \"Registrar administrador\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Anadir_admin;","map":{"version":3,"sources":["/root/easterworld/pruebas2/src/Anadir_admin.js"],"names":["React","Anadir_admin","Component","constructor","props","state","value","usuario","contra","error","aux","contrasena","c","bind","user","u","registra","registrar","datos","FormData","append","fetch","method","body","then","res","json","result","setState","window","location","href","console","log","event","target","usuario_inicio","contra_inicio","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Anadir_admin.css';\r\n\r\nclass Anadir_admin extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={value:\"\", usuario:\"\", contra:\"\",error:\"\",aux:\"\" }\r\n\r\n    this.contrasena=this.c.bind(this);\r\n    this.user=this.u.bind(this);\r\n    this.registra=this.registrar.bind(this);\r\n  }\r\n\r\n  registrar(){//Añade un usuario en la base de datos\r\n    var datos= new FormData();\r\n    datos.append('usuario', this.state.usuario);\r\n      datos.append('contra', this.state.contra);\r\n    fetch(\"http://159.223.172.191/anadir_admin.php\",{\r\n        method : \"POST\",\r\n        body: datos\r\n    })\r\n    .then(res=>res.json())\r\n        .then(\r\n            (result)=>{\r\n              \r\n                if(result!=\"Disponible\"){\r\n                  this.setState({error:\"El usuario no esta disponible\"});\r\n                }\r\n                this.setState({contra:\"\"});\r\n                if(result==\"Disponible\"){\r\n                    window.location.href=\"/foro\";\r\n                }\r\n            },\r\n            (error)=>{\r\n                console.log(error);\r\n            }\r\n        )\r\n  }\r\n\r\n  u(event){//Para modificar el usuario\r\n    this.setState({usuario:event.target.value});\r\n    console.log(this.state.usuario_inicio);\r\n  }\r\n\r\n  c(event){//Para modificar la contraseña contra\r\n    this.setState({contra:event.target.value});\r\n    console.log(this.state.contra_inicio);\r\n  }\r\n\r\n  \r\n\r\n  render(){\r\n    return (\r\n      <div className=\"App\" >\r\n            <div id='inicio_sesion'>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"card card-body\">\r\n                  <div className=\"form-group\">\r\n                    <input type=\"text\" value={this.state.usuario} onChange={this.user} name=\"usuario\" className=\"form-control\" placeholder=\"Escriba su usuario\" autoFocus required/>\r\n                  </div>\r\n                  <br/>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"password\" value={this.state.contra} name=\"contra\" onChange={this.contrasena} className=\"form-control\" placeholder=\"Escriba su contraseña\" required />\r\n                  </div>\r\n                  <br/>\r\n                  <p className=\"text-danger\">{this.state.error}</p>\r\n                  <div className=\"btn-group \" role=\"group\" aria-label=\"Basic outlined button group\">\r\n                    <button onClick={this.registra} type=\"button\" className=\"btn btn-outline-success\">Registrar administrador</button>                  \r\n                  </div>\r\n                </div>\r\n              </div>  \r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Anadir_admin;"]},"metadata":{},"sourceType":"module"}